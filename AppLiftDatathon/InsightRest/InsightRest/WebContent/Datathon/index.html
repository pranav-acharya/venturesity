<html>
	<head>
	<link rel="stylesheet" href="bootstrap.min.css"/>
		<style type='text/css'>
		
		#card0{
			margin-top : 15px;


		}
		</style>
		<title> Insights Dashboard </title>
		<script type="text/javascript" src="https://www.google.com/jsapi"></script> 
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script type="text/javascript">

			var jsonData =
				{
    "insight": [
        {
            "rank": 14.221623889757527,
            "dimension": [
                {
                    "name": "Carrier"
                }
            ],
            "measure": [
                {
                    "aggregation": "Average",
                    "name": "BidFloor"
                }
            ],
            "text1": "BidFloor for Vodafone EG is High",
            "data": [
            	[
            		"Provider",
            		"BidFloor"
            	],
                [
                    "Vodafone EG",
                    2.62
                ],
                [
                    "Comcel CO",
                    0.4630000000000001
                ],
                [
                    "Nextel MX",
                    0.43
                ],
                [
                    "Tigo GT",
                    0.3
                ],
                [
                    "MTN GH",
                    0.18790697674418605
                ],
                [
                    "Cincinnati Bell US",
                    0.165
                ],
                [
                    "BakCell AZ",
                    0.115
                ],
                [
                    "Oman Mobile OM",
                    0.115
                ],
                [
                    "MTC Touch/MIC 2",
                    0.1125
                ],
                [
                    "Meteor IE",
                    0.09
                ],
                [
                    "Kyivstar UA",
                    0.085
                ],
                [
                    "Aircel",
                    0.07442748091603053
                ],
                [
                    "Vodafone Qatar QA",
                    0.07181818181818182
                ],
                [
                    "Dialog Axiata LK",
                    0.07
                ],
                [
                    "Globe Telecom PH",
                    0.06440677966101695
                ],
                [
                    "Nextel BR",
                    0.057999999999999996
                ],
                [
                    "KPN NL",
                    0.05666666666666667
                ],
                [
                    "Optus",
                    0.05636182902584494
                ],
                [
                    "T-Mobile DE",
                    0.05593220338983051
                ],
                [
                    "Smart Communication PH",
                    0.051228070175438595
                ]
            ],
            "outliertype1": true,
            "highlight": [
                0
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 2.9075798891741,
            "dimension": [
                {
                    "name": "Carrier"
                }
            ],
            "measure": [
                {
                    "aggregation": "Count(All)",
                    "name": "CampaignId"
                }
            ],
            "text1": "CampaignId for T-Mobile is High",
            "data": [
            	[
            	"Carrier",
            	"No of Campaigns"
            	],
                [
                    "0",
                    931523
                ],
                [
                    "Telkomsel",
                    877474
                ],
                [
                    "3",
                    420418
                ],
                [
                    "T-Mobile",
                    291198
                ],
                [
                    "AT&T Mobility",
                    231949
                ],
                [
                    "Excelcomindo",
                    202672
                ],
                [
                    "Verizon Wireless",
                    193883
                ],
                [
                    "Indosat",
                    77992
                ],
                [
                    "Sprint Wireless",
                    43453
                ],
                [
                    "Cox Communications",
                    42050
                ],
                [
                    "AT&T WiFi",
                    7726
                ],
                [
                    "Vodacom",
                    6451
                ],
                [
                    "MTN & Others",
                    5670
                ],
                [
                    "Telkom",
                    4122
                ],
                [
                    "Chunghwa Telecom TW",
                    3974
                ],
                [
                    "Telstra",
                    3943
                ],
                [
                    "Maxis MY",
                    3918
                ],
                [
                    "Smart Communications",
                    3746
                ],
                [
                    "Taiwan Mobile TW",
                    3542
                ],
                [
                    "U.S. Cellular",
                    3155
                ]
            ],
            "outliertype1": true,
            "highlight": [
                3
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 2.9075798891741003,
            "dimension": [
                {
                    "name": "Carrier"
                }
            ],
            "measure": [
                {
                    "aggregation": "Count(All)",
                    "name": "CreativeId"
                }
            ],
            "text1": "CreativeId for T-Mobile is High",
            "data": [
            	["Carrier",
            	 "Number of creative Id"
            	],
                [
                    "0",
                    931523
                ],
                [
                    "Telkomsel",
                    877474
                ],
                [
                    "3",
                    420418
                ],
                [
                    "T-Mobile",
                    291198
                ],
                [
                    "AT&T Mobility",
                    231949
                ],
                [
                    "Excelcomindo",
                    202672
                ],
                [
                    "Verizon Wireless",
                    193883
                ],
                [
                    "Indosat",
                    77992
                ],
                [
                    "Sprint Wireless",
                    43453
                ],
                [
                    "Cox Communications",
                    42050
                ],
                [
                    "AT&T WiFi",
                    7726
                ],
                [
                    "Vodacom",
                    6451
                ],
                [
                    "MTN & Others",
                    5670
                ],
                [
                    "Telkom",
                    4122
                ],
                [
                    "Chunghwa Telecom TW",
                    3974
                ],
                [
                    "Telstra",
                    3943
                ],
                [
                    "Maxis MY",
                    3918
                ],
                [
                    "Smart Communications",
                    3746
                ],
                [
                    "Taiwan Mobile TW",
                    3542
                ],
                [
                    "U.S. Cellular",
                    3155
                ]
            ],
            "outliertype1": true,
            "highlight": [
                3
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 1.9142455299146692,
            "dimension": [
                {
                    "name": "Carrier"
                }
            ],
            "measure": [
                {
                    "aggregation": "Average",
                    "name": "ExchangeBid"
                }
            ],
            "text1": "ExchangeBid for 3 UK is High",
            "data": [
                [
                	"Carrier",
                	"Average ExchangeBid"
                ],
                [
                    "TDC DK",
                    8.607272727272727
                ],
                [
                    "MTS RU",
                    7.758048780487802
                ],
                [
                    "TOT Public Company Limited",
                    7.5858333333333325
                ],
                [
                    "Beeline RU",
                    7.135555555555557
                ],
                [
                    "Vodafone UK",
                    6.621666666666666
                ],
                [
                    "T-Mobile UK",
                    6.099411764705883
                ],
                [
                    "LG U+",
                    6.0784761904761915
                ],
                [
                    "Telenor Denmark",
                    5.926666666666667
                ],
                [
                    "Meteor IE",
                    5.7
                ],
                [
                    "KTF",
                    5.6901666666666655
                ],
                [
                    "Tele2Russia RU",
                    5.5375000000000005
                ],
                [
                    "MegaFon RU",
                    5.490555555555556
                ],
                [
                    "O2 UK",
                    5.488181818181818
                ],
                [
                    "TRUE Internet",
                    5.378636363636366
                ],
                [
                    "DTAC TH",
                    5.21658653846154
                ],
                [
                    "AIS TH",
                    5.124285714285714
                ],
                [
                    "3 UK",
                    4.646923076923077
                ],
                [
                    "SK Telecom",
                    4.229605911330048
                ],
                [
                    "Iusacell MX",
                    4.066666666666666
                ],
                [
                    "PCCW Mobile HK",
                    3.970175438596491
                ]
            ],
            "outliertype1": true,
            "highlight": [
                16
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 2.9075798891741003,
            "dimension": [
                {
                    "name": "Carrier"
                }
            ],
            "measure": [
                {
                    "aggregation": "Count(All)",
                    "name": "Outcome"
                }
            ],
            "text1": "Outcome for T-Mobile is High",
            "data": [
            	[
            		"Carrier",
            		"Average Outcome"
            	],
                [
                    "0",
                    931523
                ],
                [
                    "Telkomsel",
                    877474
                ],
                [
                    "3",
                    420418
                ],
                [
                    "T-Mobile",
                    291198
                ],
                [
                    "AT&T Mobility",
                    231949
                ],
                [
                    "Excelcomindo",
                    202672
                ],
                [
                    "Verizon Wireless",
                    193883
                ],
                [
                    "Indosat",
                    77992
                ],
                [
                    "Sprint Wireless",
                    43453
                ],
                [
                    "Cox Communications",
                    42050
                ],
                [
                    "AT&T WiFi",
                    7726
                ],
                [
                    "Vodacom",
                    6451
                ],
                [
                    "MTN & Others",
                    5670
                ],
                [
                    "Telkom",
                    4122
                ],
                [
                    "Chunghwa Telecom TW",
                    3974
                ],
                [
                    "Telstra",
                    3943
                ],
                [
                    "Maxis MY",
                    3918
                ],
                [
                    "Smart Communications",
                    3746
                ],
                [
                    "Taiwan Mobile TW",
                    3542
                ],
                [
                    "U.S. Cellular",
                    3155
                ]
            ],
            "outliertype1": true,
            "highlight": [
                3
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 14.639533561864672,
            "dimension": [
                {
                    "name": "AppSiteCategory"
                }
            ],
            "measure": [
                {
                    "aggregation": "Average",
                    "name": "BidFloor"
                }
            ],
            "text1": "Average BidFloor for Health & Fitness is High",
            "data": [
            	[
            		"AppSiteCategory",
            		"Average BidFloor"

            	],
                [
                    "Health & Fitness",
                    13.73
                ],
                [
                    "Arts & Entertainment#Music#Travel",
                    6.87
                ],
                [
                    "Sports#Business",
                    6.3975
                ],
                [
                    "Business#Hobbies & Interests#Video & Computer Games",
                    2.9439705882352953
                ],
                [
                    "Arts & Entertainment#Personal Finance",
                    2.902
                ],
                [
                    "Society#Travel",
                    2.4279999999999995
                ],
                [
                    "Hobbies & Interests#Society",
                    2.03
                ],
                [
                    "Sports#Uncategorized",
                    1.77
                ],
                [
                    "Computer Networking#Society",
                    1.7399999999999995
                ],
                [
                    "Technology & Computing#Family & Parenting",
                    1.72
                ],
                [
                    "Dogs#Society",
                    1.7
                ],
                [
                    "Society#Style & Fashion",
                    1.6539583333333334
                ],
                [
                    "Hobbies & Interests#Technology & Computing#Video & Computer Games#Entertainment",
                    1.6418243243243245
                ],
                [
                    "Arts & Entertainment#Business#Family & Parenting",
                    1.5828316326530607
                ],
                [
                    "News#Business",
                    1.567073170731707
                ],
                [
                    "Travel#Hobbies & Interests#Video & Computer Games",
                    1.5553846153846154
                ],
                [
                    "Travel#0",
                    1.4842857142857147
                ],
                [
                    "Photography#Computer Networking",
                    1.4785714285714289
                ],
                [
                    "Local News#International News#National News#Business#Arts & Entertainment#Sports#Hobbies & Interests#Technology & Computing",
                    1.4429032258064518
                ],
                [
                    "Nursing#Society",
                    1.44
                ]
            ],
            "outliertype1": true,
            "highlight": [
                0
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 3.690111360345256,
            "dimension": [
                {
                    "name": "AppSiteCategory"
                }
            ],
            "measure": [
                {
                    "aggregation": "Average",
                    "name": "ExchangeBid"
                }
            ],
            "text1": "ExchangeBid for Education is High",
            "data": [
            	[
            		"AppSiteCategory",
            		"Average ExchangeBid"
            	],
                [
                    "Spas#Society",
                    2.065
                ],
                [
                    "Arts & Entertainment#Music#News",
                    1.9933333333333334
                ],
                [
                    "Computer Networking#Society",
                    1.9769230769230766
                ],
                [
                    "Automotive#Weather",
                    1.3633333333333333
                ],
                [
                    "Illegal Content#Movies",
                    1.3566666666666665
                ],
                [
                    "Arts & Entertainment#0#News#Science#Sports",
                    1.25
                ],
                [
                    "Uncategorized#Education",
                    0.9547368421052632
                ],
                [
                    "News#International News#Local News#National News",
                    0.6855555555555556
                ],
                [
                    "Education#0",
                    0.6659999999999999
                ],
                [
                    "Sports#Health & Fitness",
                    0.6
                ],
                [
                    "Television#News",
                    0.5386363636363636
                ],
                [
                    "Travel",
                    0.5299999999999999
                ],
                [
                    "News#Financial News#International News#National News#Arts & Entertainment#Music#Technology & Computing#Sports",
                    0.5137037037037037
                ],
                [
                    "Weather",
                    0.5133333333333333
                ],
                [
                    "Credit/Debt & Loans#Financial Planning#Society",
                    0.46
                ],
                [
                    "Arts & Entertainment#Video & Computer Games#Entertainment#Uncategorized#Technology & Computing",
                    0.44799999999999995
                ],
                [
                    "Technology & Computing#Air Travel",
                    0.42285714285714293
                ],
                [
                    "Hobbies & Interests#Society",
                    0.39
                ],
                [
                    "Style & Fashion#Arts & Entertainment#Shopping#Hobbies & Interests",
                    0.38894117647058823
                ],
                [
                    "Construction#Mutual Funds#Local News#C/C++#Options#International News#Business Software#Antivirus Software",
                    0.3803703703703704
                ]
            ],
            "outliertype1": true,
            "highlight": [
                6
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 19.693254746002907,
            "dimension": [
                {
                    "name": "AppSiteCategory"
                }
            ],
            "measure": [
                {
                    "aggregation": "Count(All)",
                    "name": "Outcome"
                }
            ],
            "text1": "BidCount for Arts & Entertainment is High",
            "data": [
            	[
            		"AppSiteCategory",
            		"Bid Count"
            	],
                [
                    "Arts & Entertainment",
                    1782153
                ],
                [
                    "Hobbies & Interests",
                    361170
                ],
                [
                    "Hobbies & Interests#Style & Fashion",
                    242526
                ],
                [
                    "Technology & Computing",
                    222331
                ],
                [
                    "Society",
                    170878
                ],
                [
                    "Arts & Entertainment#Humor",
                    86182
                ],
                [
                    "Sports",
                    85894
                ],
                [
                    "Hobbies & Interests#News",
                    60400
                ],
                [
                    "Music#Technology & Computing",
                    34228
                ],
                [
                    "Arts & Entertainment#Hobbies & Interests#Video & Computer Games",
                    29523
                ],
                [
                    "News",
                    27915
                ],
                [
                    "Science#Weather",
                    24545
                ],
                [
                    "Technology & Computing#Arts & Entertainment",
                    23799
                ],
                [
                    "Music#Arts & Entertainment",
                    21241
                ],
                [
                    "Video & Computer Games",
                    16649
                ],
                [
                    "Style & Fashion",
                    13053
                ],
                [
                    "0",
                    12156
                ],
                [
                    "Arts & Entertainment#Books & Literature",
                    10720
                ],
                [
                    "Arts & Entertainment#Hobbies & Interests",
                    10274
                ],
                [
                    "Arts & Entertainment#Uncategorized",
                    10055
                ]
            ],
            "outliertype1": true,
            "highlight": [
                0
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 6.23813361345948,
            "dimension": [
                {
                    "name": "Country"
                }
            ],
            "measure": [
                {
                    "aggregation": "Average",
                    "name": "BidFloor"
                }
            ],
            "text1": "BidFloor for EGY is High",
            "data": [
            	["Country",
            	"Average BidFloor"],

                [
                    "EGY",
                    0.4366666666666667
                ],
                [
                    "UZB",
                    0.34
                ],
                [
                    "ECU",
                    0.236
                ],
                [
                    "COL",
                    0.21045454545454548
                ],
                [
                    "GTM",
                    0.11666666666666665
                ],
                [
                    "OMN",
                    0.115
                ],
                [
                    "LBN",
                    0.1125
                ],
                [
                    "AZE",
                    0.07666666666666667
                ],
                [
                    "PAK",
                    0.07545454545454545
                ],
                [
                    "LKA",
                    0.07
                ],
                [
                    "GHA",
                    0.05730158730158731
                ],
                [
                    "JPN",
                    0.0512118018967334
                ],
                [
                    "PHL",
                    0.05085308056872038
                ],
                [
                    "KWT",
                    0.03792828685258965
                ],
                [
                    "DEU",
                    0.0350654349499615
                ],
                [
                    "IND",
                    0.0334912043301759
                ],
                [
                    "RUS",
                    0.030890909090909094
                ],
                [
                    "MDA",
                    0.03
                ],
                [
                    "ROU",
                    0.02958164300202839
                ],
                [
                    "NLD",
                    0.02888888888888889
                ]
            ],
            "outliertype1": true,
            "highlight": [
                0
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 7.093583620245449,
            "dimension": [
                {
                    "name": "Country"
                }
            ],
            "measure": [
                {
                    "aggregation": "Count(All)",
                    "name": "CampaignId"
                }
            ],
            "text1": "CampaignId for IDN is High",
            "data": [
            	[
            		"Country",
            		"Number of Campaigns"
            	],
                [
                    "IDN",
                    1708025
                ],
                [
                    "USA",
                    1593798
                ],
                [
                    "ZAF",
                    27537
                ],
                [
                    "TWN",
                    16034
                ],
                [
                    "MYS",
                    12741
                ],
                [
                    "IND",
                    8868
                ],
                [
                    "AUS",
                    5473
                ],
                [
                    "ROU",
                    3944
                ],
                [
                    "TUR",
                    3941
                ],
                [
                    "KOR",
                    3192
                ],
                [
                    "JPN",
                    1898
                ],
                [
                    "ESP",
                    1484
                ],
                [
                    "NGA",
                    1475
                ],
                [
                    "SVN",
                    1466
                ],
                [
                    "SGP",
                    1462
                ],
                [
                    "SAU",
                    1401
                ],
                [
                    "DEU",
                    1299
                ],
                [
                    "HKG",
                    1189
                ],
                [
                    "THA",
                    998
                ],
                [
                    "GBR",
                    671
                ]
            ],
            "outliertype1": true,
            "highlight": [
                0
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 5.258984965296751,
            "dimension": [
                {
                    "name": "Country"
                }
            ],
            "measure": [
                {
                    "aggregation": "Average",
                    "name": "ExchangeBid"
                }
            ],
            "text1": "ExchangeBid for RUS is High",
            "data": [
            	[
            		"Country",
            		"Average ExchangeBid"
            	],
                [
                    "RUS",
                    9.102363636363636
                ],
                [
                    "DNK",
                    8.270800000000001
                ],
                [
                    "THA",
                    5.179989979959923
                ],
                [
                    "CAN",
                    4.732090032154342
                ],
                [
                    "KOR",
                    4.4974592731829555
                ],
                [
                    "VNM",
                    3.584636678200693
                ],
                [
                    "MEX",
                    3.5026639344262303
                ],
                [
                    "FRA",
                    2.9969999999999994
                ],
                [
                    "IRL",
                    2.5940000000000003
                ],
                [
                    "JPN",
                    2.555079030558483
                ],
                [
                    "HKG",
                    2.432111017661901
                ],
                [
                    "GBR",
                    2.160208643815201
                ],
                [
                    "AUT",
                    1.8880392156862744
                ],
                [
                    "CHE",
                    1.7800000000000002
                ],
                [
                    "SGP",
                    1.6540492476060191
                ],
                [
                    "ITA",
                    1.5793333333333335
                ],
                [
                    "LBN",
                    1.5350000000000001
                ],
                [
                    "BHR",
                    1.53
                ],
                [
                    "MYS",
                    1.4517063024880306
                ],
                [
                    "TWN",
                    1.404650742172883
                ]
            ],
            "outliertype1": true,
            "highlight": [
                0
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 7.09358362024545,
            "dimension": [
                {
                    "name": "Country"
                }
            ],
            "measure": [
                {
                    "aggregation": "Count(All)",
                    "name": "Outcome"
                }
            ],
            "text1": "Outcome for IDN is High",
            "data": [
            	[
            		"Country",
            		"Number of bids"
            	],
                [
                    "IDN",
                    1708025
                ],
                [
                    "USA",
                    1593798
                ],
                [
                    "ZAF",
                    27537
                ],
                [
                    "TWN",
                    16034
                ],
                [
                    "MYS",
                    12741
                ],
                [
                    "IND",
                    8868
                ],
                [
                    "AUS",
                    5473
                ],
                [
                    "ROU",
                    3944
                ],
                [
                    "TUR",
                    3941
                ],
                [
                    "KOR",
                    3192
                ],
                [
                    "JPN",
                    1898
                ],
                [
                    "ESP",
                    1484
                ],
                [
                    "NGA",
                    1475
                ],
                [
                    "SVN",
                    1466
                ],
                [
                    "SGP",
                    1462
                ],
                [
                    "SAU",
                    1401
                ],
                [
                    "DEU",
                    1299
                ],
                [
                    "HKG",
                    1189
                ],
                [
                    "THA",
                    998
                ],
                [
                    "GBR",
                    671
                ]
            ],
            "outliertype1": true,
            "highlight": [
                0
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 7.473539325375725,
            "dimension": [
                {
                    "name": "CreativeCategory"
                }
            ],
            "measure": [
                {
                    "aggregation": "Count(All)",
                    "name": "CreativeId"
                }
            ],
            "text1": "Number of ads shown for Category Advertising#Cell Phones is High",
            "data": [
            	[
            		"CreativeCategory",
            		"Number of ads"
            	],
                [
                    "Advertising#Cell Phones",
                    1387153
                ],
                [
                    "Financial Planning#Investing",
                    797653
                ],
                [
                    "Air Travel#Business Travel",
                    480054
                ],
                [
                    "Comparison#Couponing",
                    209598
                ],
                [
                    "Comparison",
                    115436
                ],
                [
                    "Beauty",
                    114934
                ],
                [
                    "Advertising#Couponing",
                    26368
                ],
                [
                    "Couponing",
                    23204
                ],
                [
                    "Society#Internet Technology",
                    21210
                ],
                [
                    "Board Games/Puzzles#Roleplaying Games",
                    19917
                ],
                [
                    "Advertising",
                    19494
                ],
                [
                    "Adventure Travel#Television",
                    15406
                ],
                [
                    "Roleplaying Games",
                    15367
                ],
                [
                    "Advertising#Appliances",
                    11674
                ],
                [
                    "Cell Phones",
                    10630
                ],
                [
                    "Air Travel#Hotels",
                    10098
                ],
                [
                    "0",
                    10059
                ],
                [
                    "Marketing",
                    9455
                ],
                [
                    "Advertising#Buying/Selling Homes",
                    8457
                ],
                [
                    "Buying/Selling Cars#Performance Vehicles",
                    8123
                ]
            ],
            "outliertype1": true,
            "highlight": [
                0
            ],
            "type": "CLUSTERING"
        },
        {
            "rank": 17.28816176081101,
            "dimension": [
                {
                    "name": "Manufacturer"
                }
            ],
            "measure": [
                {
                    "aggregation": "Count(All)",
                    "name": "CampaignId"
                }
            ],
            "text1": "Number OF Campaigns seen on Samsung phones is High",
            "data": [
            	["Carrier",
            	"Number of Campaigns"],

                [
                    "Samsung",
                    1473788
                ],
                [
                    "LG",
                    275145
                ],
                [
                    "0",
                    275117
                ],
                [
                    "Apple",
                    255606
                ],
                [
                    "Asus",
                    183818
                ],
                [
                    "Oppo",
                    101999
                ],
                [
                    "Lenovo",
                    98832
                ],
                [
                    "Motorola",
                    91523
                ],
                [
                    "ZTE",
                    75012
                ],
                [
                    "HTC",
                    70267
                ],
                [
                    "Smartfren",
                    65588
                ],
                [
                    "Sony",
                    58117
                ],
                [
                    "Xiaomi",
                    55522
                ],
                [
                    "ALCATEL",
                    41956
                ],
                [
                    "Advan",
                    31400
                ],
                [
                    "Kyocera",
                    27487
                ],
                [
                    "Amazon",
                    25015
                ],
                [
                    "Huawei",
                    19872
                ],
                [
                    "Evercoss",
                    19784
                ],
                [
                    "Google",
                    18698
                ]
            ],
            "outliertype1": true,
            "highlight": [
                0
            ],
            "type": "CLUSTERING"
        }
    ]
			}; 



function sortByKey(array, key) {
    return array.sort(function(a, b) {
        var x = a[key]; var y = b[key];
        return ((x > y) ? -1 : ((x < y) ? 1 : 0));
    });
}

var sortedData = sortByKey(jsonData.insight, 'rank');

			function drawChart (insight){
				var options = {
			        title: insight.text1,
			        width : 800,
			        height: 600,
			        hAxis: {
			          title: insight.dimension[0].name
			        },
			        vAxis: {
			          title: insight.measure[0].name
			        }
			      };

			      var chart = new google.visualization.ColumnChart(
			        document.getElementById('chart_div'));
			      var data = google.visualization.arrayToDataTable(insight.data);
			      chart.draw(data, options);

			}

			function highlightCard(index){

				$("#card"+index).css("border", "3px solid rgb(51,102,204)");
			}

			function resetCards(){

				$(".card").css("border", "1px solid black");
			}



			function redrawChart(){

				resetCards();
				var index = parseInt(event.currentTarget.getAttribute("ind"));
				$("#chart_div").animate({
					"opacity" : 0
				}, 1000, function(){
					
					drawChart(sortedData[index]);
					$("#chart_div").css("opacity", "1");

				});
				highlightCard(index);
			}

			function drawBasic() {
			    drawCards();
			    drawChart(sortedData[0]);
			    highlightCard(0);  
			}

			function drawCards(){

				
				var cardTitle = '<div style="width: 100%;height: 30px;border-bottom: 1px solid #949494;margin-top: 5px;font-weight: 600;padding-left: 10px;color: #949494;"> DID YOU KNOW?';
				var divClose = '</div>';
				var finalHTML = "";
				var insightText = '<div style = "padding: 10px;font-weight: bold;font-size: 16px;">';
				for(var i = 0; i < sortedData.length; i++){
					var card = '<div ind= "'+ i + '" class="card" id=card'+ i + ' style="width: 200px; height: 150px; border: 1px solid black; margin-left: 50px;margin-bottom: 15px;" onclick = redrawChart()>'; 
					finalHTML += card +  cardTitle + divClose + insightText + sortedData[i].text1 +  divClose + divClose;

				}

				$("#side_pane").html(finalHTML);

			}

			google.load('visualization', '1', {packages: ['corechart', 'bar']});
			google.setOnLoadCallback(drawBasic);



			
		</script>
	</head>

	<body>
		<div id="header" style='width: 100%; height : 50px; border-bottom:1px solid #7D7878;'> <h2 style="padding-left: 15px; padding-top: 7px;margin-top:10px;">INSIGHTS</h2></div>
  		<div id="side_pane" style='width : 23%; position : relative; overflow: auto; max-height: 93%; float: left; border-right : 1px solid #7D7878;'></div>
  		<div id="chart_div" style='width : 75%; position : relative; float: right;'></div>
  		
	</body>

</html>